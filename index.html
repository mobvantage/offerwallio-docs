<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the offerwall.io integration guide.</p>

<p>This example API documentation page was created with <a href="https://github.com/tripit/slate">Slate</a>. Feel free to edit it and use it as a base for your own API&rsquo;s documentation.</p>

<h1 id="setup">Setup</h1>

<h2 id="for-networks">For Networks</h2>

<aside class="warning">
To use offerwall.io, you must have an enterprise tier HasOffers account with API access enabled.
</aside>

<p>To allow an app to integrate your offers into their offerwall, follow these steps:</p>

<ol>
<li>Create a new Affiliate for the app. Each app must have its own Affiliate</li>
<li>Generate an API key for the Affiliate:

<ol>
<li>Click &lsquo;Affiliates &gt; Manage Affiliates&rsquo;.</li>
<li>Find the Affiliate you just created. Under the &#39;Account Users&rsquo; section, find the login button</li>
<li>Now in the Affiliate dashboard, expand &#39;Tools&rsquo; in the left menu and click on &#39;APIs&rsquo;</li>
<li>Click &#39;Request API key&rsquo;</li>
</ol></li>
<li>Optionally, depending on your network&rsquo;s settings, you may need to approve the API key:

<ol>
<li>Log out of the affiliate dashboard to return back to your admin dashboard</li>
<li>Click on &#39;Support &gt; API&rsquo; in the top menu</li>
<li>Click on the &#39;Affiliate API V3 Keys&rsquo; link</li>
<li>Find the newly requested API key and hit &#39;Approve&rsquo;</li>
</ol></li>
<li>Set up a global postback handler for the Affiliate

<ol>
<li>Click &#39;Affiliates &gt; Manage Affiliates&rsquo; and find the Affiliate</li>
<li>Find the &#39;Conversion Pixels / URLs&rsquo; section and click &#39;Add&rsquo;</li>
<li>For the offer, select &#39;All Offers (Offer ID: 0)&rsquo;. For the Type, select &#39;Postback URL&rsquo;. In the URL field, enter 
<code class="prettyprint">http://offerwall.io/postback?postback_key=REPLACE_ME&amp;network_id=&lt;YOUR NETWORK ID&gt;&amp;api_key=&lt;API KEY&gt;&amp;aff_sub={aff_sub}&amp;offer_id={offer_id}&amp;transaction_id={transaction_id}</code>
<aside class="notice">
You must replace <code>YOUR NETWORK ID</code> with your network&rsquo;s ID and <code>API KEY</code> with the key you generated in step 2. The Affiliate will replace <code>REPLACE_ME</code> later.
</aside></li>
</ol></li>
<li>That&rsquo;s it! Send your network ID and the API key to someone working for the app.</li>
</ol>

<h2 id="for-apps">For Apps</h2>

<ol>
<li>Log in to your <a href="http://offerwall.io/dashboard">offerwall.io dashboard</a>. Use the network ID and API key provided by your account manager</li>
<li>Enter your postback URL. For more information, see the <a href="#postback-handler">postback handler</a> section.</li>
<li>Copy your <code>postback key</code></li>
<li>Update your global postback URL in your network&rsquo;s affiliate dashboard.

<ol>
<li>Log in to your affiliate&rsquo;s dashboard</li>
<li>Expand &#39;Tools&rsquo; and click &#39;Pixels/Postbacks&rsquo; in the left nav</li>
<li>Replace <code>REPLACE_ME</code> in the URL with the <code>postback key</code></li>
</ol></li>
<li>That&rsquo;s it! Read on to learn about fetching offers and setting up your postback handler</li>
</ol>

<h1 id="offers">Offers</h1>

<h2 id="get-all-offers">Get All Offers</h2>

<p>This endpoint retrieves all active, approved offers with available cap.</p>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Sample request:</p>
</blockquote>
<pre class="highlight plaintext"><code>http://offerwall.io/offers?network_id=awesomeadsnetwork&amp;api_key=XXXXXXXXXX&amp;country_code=US&amp;gaid=55952f1e-857d-4c07-b845-899c36218e0e&amp;user_id=354637
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10949"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Castle Clash: Rise of Beasts"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;\/b&gt;Build and battle your way to glory in Castle Clash! With over 100 million clashers worldwide, the heat is on in the most addictive game ever! In a brilliant mix of fast-paced strategy and exciting combat, Castle Clash is a game of epic proportions! Hire legions of powerful Heroes and lead an army of mythical creatures, big and small. Fight to the top and become the world\u2019s greatest Warlord. Your empire is as strong as your creativity!&lt;br&gt; \r\n&lt;b&gt;Conversion:&lt;\/b&gt; Install &amp; Open.&lt;br&gt;\r\n&lt;b&gt;Traffic Restrictions:&lt;\/b&gt; Custom Creatives; Adult Traffic; Push Notification Traffic; Ads Icon Traffic; SMS Traffic&lt;br&gt;\r\n&lt;b&gt;Caps:&lt;\/b&gt; This campaign is capped.  &lt;br&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.28</span><span class="p">,</span><span class="w">
    </span><span class="nt">"click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/tracking.adactioninteractive.com\/aff_c?offer_id=10949&amp;aff_id=2862&amp;aff_sub=165738&amp;ios_ifa=33557372-1966-4F3C-892D-6DF16CA0C3C9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"thumbnails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"width"</span><span class="p">:</span><span class="w"> </span><span class="s2">"175"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"height"</span><span class="p">:</span><span class="w"> </span><span class="s2">"175"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/media.go2speed.org\/brand\/files\/adactioninteractive\/10949\/Castle%20Clash.png"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"targeting"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"iOS"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"692669501"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16050"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PocketLIVE - Live Streaming &amp; Broadcasting"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;\/b&gt;PocketLIVE is a dynamic new live streaming platform for creators who share what they love, LIVE, with viewers in real time. &lt;br&gt; \r\n&lt;b&gt;Conversion:&lt;\/b&gt; Install &amp; Open.&lt;br&gt;\r\n&lt;b&gt;Traffic Restrictions:&lt;\/b&gt; Custom Creatives; Adult Traffic; Push Notification Traffic; Ads Icon Traffic; SMS Traffic; Instagram\/Twitter Traffic&lt;br&gt;\r\n&lt;b&gt;Caps:&lt;\/b&gt; This campaign is uncapped.&lt;br&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payout"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.28</span><span class="p">,</span><span class="w">
    </span><span class="nt">"click_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/tracking.adactioninteractive.com\/aff_c?offer_id=16050&amp;aff_id=2862&amp;aff_sub=165738&amp;ios_ifa=33557372-1966-4F3C-892D-6DF16CA0C3C9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"thumbnails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"width"</span><span class="p">:</span><span class="w"> </span><span class="s2">"175"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"height"</span><span class="p">:</span><span class="w"> </span><span class="s2">"175"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/media.go2speed.org\/brand\/files\/adactioninteractive\/16050\/PocketLive.png"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"targeting"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"iOS"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1149680758"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code>GET http://offerwall.io/offers</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>network_id</td>
<td><strong>Yes</strong></td>
<td>The HasOffers network ID</td>
<td><code>AwesomeAdsNetwork</code></td>
</tr>
<tr>
<td>api_key</td>
<td><strong>Yes</strong></td>
<td>Your Affiliate API key</td>
<td></td>
</tr>
<tr>
<td>user_id</td>
<td><strong>Yes</strong></td>
<td>A unique identifier for the current user within your app. This value will be passed back to you in the <a href="#postback-handler">postback handler</a></td>
<td><code>354637</code></td>
</tr>
<tr>
<td>country_code</td>
<td><strong>Yes</strong></td>
<td>The user&rsquo;s country code in ISO 3166-1 Alpha 2 format.</td>
<td><code>US</code></td>
</tr>
<tr>
<td>idfa</td>
<td>Optional</td>
<td>The user&rsquo;s Apple advertising identifier. If the user is an iOS user, this parameter is <strong>required</strong></td>
<td><code>33557372-1966-4F3C-892D-6DF16CA0C3C9</code></td>
</tr>
<tr>
<td>gaid</td>
<td>Optional</td>
<td>The user&rsquo;s Google advertising identifier. If the user is an Android user, this parameter is <strong>required</strong></td>
<td><code>55952f1e-857d-4c07-b845-899c36218e0e</code></td>
</tr>
<tr>
<td>aff_sub2 - aff_sub9</td>
<td>Optional</td>
<td>Pass any additional data in the <code>aff_sub2</code>, <code>aff_sub3</code>, &hellip; <code>aff_sub9</code> parameters. This data will be passed back to you in the <a href="#postback-handler">postback handler</a></td>
<td></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The response will be an array of <code>Offer</code> objects with the following structure:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>A unique identifier for the offer</td>
<td><code>10949</code></td>
</tr>
<tr>
<td>name</td>
<td>The offer&rsquo;s name. This is pulled from the offer&rsquo;s store listing</td>
<td><code>Castle Clash: Rise of Beasts</code></td>
</tr>
<tr>
<td>description</td>
<td>The offer&rsquo;s description</td>
<td></td>
</tr>
<tr>
<td>payout</td>
<td>The offer&rsquo;s payout (usually in USD). The currency will be determined by the network&rsquo;s currency</td>
<td><code>0.28</code></td>
</tr>
<tr>
<td>click_url</td>
<td>The offer&rsquo;s redirect url. You must launch this URL to start the offer</td>
<td><code>https://tracking.adactioninteractive.com/aff_c?offer_id=10949&amp;aff_id=2862&amp;aff_sub=165738&amp;ios_ifa=33557372-1966-4F3C-892D-6DF16CA0C3C9</code></td>
</tr>
<tr>
<td>thumbnails</td>
<td>An array of thumbnail objects with the following properties: <ul><li><code>width</code></li><li><code>height</code></li><li><code>url</code></li></url></td>
<td></td>
</tr>
<tr>
<td>targeting</td>
<td>An array of targeting rules. Valid rules are: <ul><li><code>iOS</code></li><li><code>Android</code></li><li><code>iPhone</code></li><li><code>iPad</code></li><li><code>iPod</code></li></ul></td>
<td></td>
</tr>
<tr>
<td>store_id</td>
<td>The offer&rsquo;s store ID. For iOS offers, this will be the iTunes store ID. For Android offers, this will be the package name.</td>
<td><p>For iOS, <code>1149680758</code></p><p>For Android, <code>com.igg.castleclash</code></p></td>
</tr>
</tbody></table>

<h1 id="postback-handler">Postback handler</h1>

<p>Whenever a user completes an offer, we will issue a GET request to your configured postback handler so that you can reward the user.</p>

<h2 id="available-parameters">Available parameters</h2>

<blockquote>
<p>Sample postback:</p>
</blockquote>
<pre class="highlight plaintext"><code>http://yourpostbackhandler.com/?userId={user_id}&amp;offerId={offer_id}&amp;transactionId={transaction_id}&amp;signature={signature}
</code></pre>
<p>The following parameters are available for you to use in your postback handler. Enter variables like so: <code>{variable}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>The ID of the user who completed the offer. This was passed when the user <a href="#get-all-offers">fetched the offers</a></td>
<td><code>165738</code></td>
</tr>
<tr>
<td>transaction_id</td>
<td>A unique transaction ID. You should store this and use it in your system to ensure a user is not credited more than once for the same offer</td>
<td><code>1021a6461c2fb939a9b1e1101b31b1</code></td>
</tr>
<tr>
<td>offer_id</td>
<td>The ID of the offer which was completed.</td>
<td><code>9791</code></td>
</tr>
<tr>
<td>signature</td>
<td><p>Each postback request is signed to ensure authenticity. You should use this parameter to ensure the request is coming from our servers.</p><p>The signature is calculated as: <code>sha1(postback key + user_id + offer_id + transaction_id)</code></td>
<td></td>
</tr>
<tr>
<td>aff_sub2 - affsub_9</td>
<td>Any additional parameters you passed when <a href="#get-all-offers">fetching the offers</a> will be made available through these parameters</td>
<td></td>
</tr>
</tbody></table>

<h2 id="response">Response</h2>

<p>For any successful transaction, your postback handler should respond with HTTP status 200</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
